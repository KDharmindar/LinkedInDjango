
{% extends 'app/base.html' %}
{% load static %}


{%block pagecss%}
    <link href="{% static 'css/AdminLTE.css' %}" rel="stylesheet" type="text/css" id="maincss">
    <link href="{% static 'css/account.css' %}" rel="stylesheet" type="text/css" id="maincss">
{%endblock%}
    
{% block title %}Home{% endblock title %}

{%block header%}
   {% include 'app/includes/header.html' with account_menu=1 %}
{%endblock%}

{%block sidebar%}
   
{%endblock%}


{%block content%}

<section class="content">
   
   	<div class="row">
	<div class="col-sm-4 col-md-3">
		<a class="btn btn-primary btn-block" href="{% url 'account-messenger-add' pk=object.id %}">NEW MESSENGER CAMPAIGN</a>
		<a class="btn btn-primary btn-block" href="{% url 'account-campaign-add' pk=object.id %}">NEW CONNECTOR CAMPAIGN</a>
		
		<div class="text-center pt-10">
			<a href="{% url 'account-settings' pk=object.id %}">Set account schedule</a>
		</div>
	</div>
	<div class="campaign-info col-sm-8 col-md-8">
		<p>Want to communicate with your existing network? Start new Messenger Campaign.<br>Need to grow your network, find new leads? Start new Connector Campaign.</p><br>
		<p>When new Messenger Campaign or Connector Campaign is created, you will add contacts to the campaign. Contacts will be either your existing connections or you can launch a new search to find new ones you can connect with. For more details see <a href="/support/?openfaq=getstarted" target="_blank">FAQ</a>.</p>
	</div>
</div>

<div class="row">
	<div class="col-md-4">
		<div class="box box-solid">
		<div class="box-header">
		  <h3 class="box-title">Your connections</h3>
		</div>
		<!-- /.box-header -->
		<div class="box-body pt-0">
			<table class="table">
		    <tbody><tr>
				<td>
					Current connections:
				</td>
				<td>
					{{connection.connection_count}}				</td>
			</tr>
			 <tr>
				<td>
					New in 24 hours:
				</td>
				<td>
					{{connection.h24}}		</td>
			</tr>
			 <tr>
				<td>
					New in 7 days:
				</td>
				<td>
					{{connection.d7}}	</td>
			</tr>
			</tbody></table>
		 </div>
		<!-- /.box-body -->
		</div>
		<!-- /.box -->
	  
		<div class="box box-success box-solid">
			<div class="box-header with-border">
				<h3 class="box-title">Upcoming tasks</h3>
			</div>
			<div class="box-body" id="upcoming_tasks">There are no tasks
</div>
		</div>
	</div>
	<!-- /.col -->

	<div class="col-md-8">
	  <div class="box box-solid">
		<div class="box-header">
		  <h3 class="box-title">Communication stats</h3>
		</div>
		<!-- /.box-header -->
		<div class="box-body pt-0">
			<table class="table">
				<tbody><tr>
					<td></td>
					<td><strong>24h</strong></td>
					<td><strong>48h</strong></td>
					<td><strong>72h</strong></td>
					<td><strong>1w</strong></td>
					<td><strong>1m</strong></td>
				</tr>
				<tr>
					<td>Connection requests:</td>
					<td>{{ connection.h24 }}</td>
					<td>{{ connection.h48 }}</td>
					<td>{{ connection.h72 }}</td>
					<td>{{ connection.d7 }}</td>
					<td>{{ connection.m1 }}</td>

				</tr>
				<tr>
					<td>Connected:</td>
					<td>{{ calculate_communication_stats.h24.connected }}</td>
					<td>{{ calculate_communication_stats.h48.connected }}</td>
					<td>{{ calculate_communication_stats.h72.connected }}</td>
					<td>{{ calculate_communication_stats.w1.connected }}</td>
					<td>{{ calculate_communication_stats.m1.connected }}</td>
				</tr>
				<tr>
					<td>Replied to connection message:</td>
					<<td>{{ calculate_communication_stats.h24.replied }}</td>
					<td>{{ calculate_communication_stats.h48.replied }}</td>
					<td>{{ calculate_communication_stats.h72.replied }}</td>
					<td>{{ calculate_communication_stats.w1.replied }}</td>
					<td>{{ calculate_communication_stats.m1.replied }}</td>
				</tr>
				<tr>
					<td>Replied to other messages:</td>
					<td>{{ calculate_communication_stats.h24.replied_others }}</td>
					<td>{{ calculate_communication_stats.h48.replied_others }}</td>
					<td>{{ calculate_communication_stats.h72.replied_others }}</td>
					<td>{{ calculate_communication_stats.w1.replied_others }}</td>
					<td>{{ calculate_communication_stats.m1.replied_others }}</td>
				</tr>
			</tbody></table>
		</div>
		<!-- /.box-body -->
	  </div>
	  <!-- /.box -->
	  {%include 'app/includes/campaigns/connector_list.html' with object_list=connectors.all box_solid=True %}
	 
	  {%include 'app/includes/campaigns/messenger_list.html'  with object_list=messengers.all box_solid=True %}
	  
	  
	  
	</div>
	<!-- /.col -->
</div>	</section>

{%endblock%}
